(()=>{function a(a){for(var s,n,t,e=$('meta[name="auth-check"]').attr("content"),c=$('meta[name="auth-completed"]').attr("content"),l=0;l<a.data.length;l++){for(var o='<div class="col-lg-12 col-md-12 col-12 my-7 ">\n                        <div class="card mb-lg-3 mb-5 rounded mt-5 ">\n                            <div class="row g-0">\n                                <div class="col-lg-4 col-md-4 col-12">\n                                    <div class="col-3 mx-auto">\n                                        <div class="card-image">\n                                <img src="avatars/'+a.data[l].author.image+'" class=" mx-auto project-image" alt="...">\n                            </div>\n                        </div>\n                        <div class="col-12">\n                            <div class="row">\n                                <div class="col-12">\n                                    <p class="mt-5  text-center semi-bold-bolder">'+a.data[l].author.name+" "+a.data[l].author.surname+'</p>\n                                    <p class="mt-1 orange-custom classic-bold text-center ">I\'m '+a.data[l].author.academies.profession+'</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="col-lg-8 col-md-7 col-12">\n                        <div class="card-body ">\n                            <h5 class="card-title classic-bold">'+a.data[l].title+'</h5>\n                            <p class="classic mt-3 showMore">'+a.data[l].description+'</p>\n                            <button class="applicants btn btn-applicants p-lg-1 p-md-1 p-0">\n                                <span class="font-applicants classic-bold">'+a.data[l].users_count+'</span>\n                                <p class="font-applicants classic">applicants</p>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div class="card-footer bg-white">\n                    <div class="row g-0">\n                        <div class="col-lg-8 col-md-7 col-12 ">\n                            <div class="row mt-4 mx-auto">\n                                <div class="col-lg-6 col-12 text-center">\n                                    <span class="gray-custom semi-bold-bolder text-center">I\'m looking for</span>\n                                </div>\n                                <div class="col-12 mt-2">',i=0;i<a.data[l].academies.length;i++)o+='\n                                    <span class="text-wrap academies-circles text-white text-center semi-bold bg-green-custom p-lg-3 p-1">'+a.data[l].academies[i].name+"</span>\n                               ";var d="  </div>\n                        </div>\n                        </div>\n                        <div class=\"col-md-4 col-12 mt-5 \">\n                           <div class = 'd-grid gap-2 d-md-flex justify-content-md-end'>\n                                <button id = '".concat(a.data[l].id,"' class = 'btn btn-success px-lg-5 px-2 applyBtn'>I AM IN</button>\n                            </div>\n                        </div>\n                         </div>             \n                </div>\n            </div>\n        </div>");if(""==c)d="  </div>\n                        </div>\n                        </div>\n                        <div class=\"col-md-4 col-12 mt-5 \">\n                           <div class = 'd-grid gap-2 d-md-flex justify-content-md-end'>\n                                <button id = 'apply' class = 'btn btn-success px-lg-5 px-2 applyBtn' disabled>I AM IN</button>\n                            </div>\n                        </div>\n                         </div>             \n                </div>\n            </div>\n        </div>";else if(a.data[l].users_count>0)for(var r=0;r<a.data[l].users.length;r++)e==a.data[l].users[r].id&&(d="  </div>\n                        </div>\n                        </div>\n                        <div class=\"col-md-4 col-12 mt-5 \">\n                           <div class = 'd-grid gap-2 d-md-flex justify-content-md-end'>\n                                <button id = 'apply' class = 'btn btn-success px-lg-5 px-2 applyBtn' disabled>I AM IN</button>\n                            </div>\n                        </div>\n                         </div>             \n                </div>\n            </div>\n        </div>");$("#projectsCards").append(o+d)}s=50,n="show more ",t="show less",$(".showMore").each((function(){var a=$(this).html();if(a.length>s){var t=a.substr(0,s)+"<span class = 'text-end'>&nbsp;</span><span class=\"morecontent\"><span>"+a.substr(s,a.length-s)+'</span>&nbsp;&nbsp;<a href="" class="morelink orange-custom ">'+n+"</a></span>";$(this).html(t)}})),$(".morelink").click((function(){return $(this).hasClass("less")?($(this).removeClass("less"),$(this).html(n)):($(this).addClass("less"),$(this).html(t)),$(this).parent().prev().toggle(),$(this).prev().toggle(),!1})),$(".applyBtn").on("click",(function(){var a=$(this).attr("id");$("#projectID").val(a),$("#applyModal").modal("show")}))}function s(a){$("#pagination").twbsPagination("destroy"),$.ajax({url:"/api/allProjects",method:"GET",cache:!1,async:!0,data:{category:a},success:function(s){var t=s.last_page;if(1==t){n(a,1)}$("#pagination").twbsPagination({totalPages:t,visiblePages:5,next:"Next",prev:"Prev",onPageClick:function(s,t){n(a,t)}})},error:function(a){console.log("error: ",a),alert(a.responseJSON.message)}})}function n(s,n){$.ajax({url:"/api/allProjects?page="+n,method:"GET",cache:!1,async:!0,data:{category:s},success:function(s){$(".card").hide(),a(s)},error:function(a){console.log("error: ",a),alert(a.responseJSON.message)}})}$((function(){$("#all").prop("checked",!0);var a=$("input[name='academies']:checked").val();s(a),$("input[name = 'academies']").on("change",(function(){s(a=$("input[name='academies']:checked").val())})),$("#applyModal .send").on("click",(function(){$.ajax({url:"/api/apply/"+$("#projectID").val(),method:"POST",data:{_token:$('meta[name="csrf-token"]').attr("content"),id:$("#projectID").val(),message:$("#message").val()},success:function(n){console.log(n),$("#applyModal").modal("hide"),swal("Application is sent!","Please wait to be approved!","success"),s(a),$("#message").val("")},error:function(a){console.log(a.responseJSON.errors.message),$("#error").html(a.responseJSON.errors.message)}})}))}))})();